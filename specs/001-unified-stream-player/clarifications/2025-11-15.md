### Clarifications — Session 2025-11-15

- Q: Has the T027.4 FFmpeg buffering change been implemented so that `startDecoding()` no longer blocks waiting for a large initial buffer? → A: Yes.

Implementation note:

- `FFmpegStreamDecoder::startDecoding()` now spawns the stream consumer and decoder threads and returns promptly.
- The potentially-blocking FFmpeg initialization steps (open input, find stream info, open codec, swr init) are executed inside the decoder thread (`decodeAudioBytesFunc`).
- The decoder consumes data from the internal circular buffer asynchronously; `startDecoding()` no longer waits for the `audioCache` to reach the previous threshold before returning.

Updated acceptance criteria (T027.4):

- `startDecoding()` must return within 100ms under low-buffer conditions.
- The decoder must produce at least one `AudioFrame` within a short timeout (e.g., 2s) once sufficient data arrives.

Notes:

- This file records the clarification for reviewers and maintainers; integrate into `tasks.md` or the feature spec's Clarifications section at your convenience.
